Implemente o **MÃ³dulo de Pipeline de SeleÃ§Ã£o** da plataforma GentePRO, um sistema SaaS multiempresa de recrutamento e seleÃ§Ã£o. O sistema utiliza FastAPI no backend, PostgreSQL como banco de dados, autenticaÃ§Ã£o JWT com perfis de acesso e frontend em React com Tailwind CSS.

---

### ğŸ¯ OBJETIVO

Gerenciar o fluxo de candidatos dentro das vagas usando um sistema de **pipeline visual (Kanban)** com etapas configurÃ¡veis. Este mÃ³dulo conecta os candidatos Ã s vagas e permite seu acompanhamento em tempo real, com movimentaÃ§Ã£o entre etapas, anotaÃ§Ãµes e histÃ³rico de interaÃ§Ãµes.

---

### ğŸ§± BACKEND â€“ ESTRUTURA DE BANCO

#### ğŸ”¸ Tabela `vaga_candidato`

Tabela intermediÃ¡ria (muitos para muitos) entre `vagas` e `candidatos`.

Campos:
- `id`: UUID (PK)
- `vaga_id`: FK para `vagas`
- `candidato_id`: FK para `candidatos`
- `etapa`: enum (`recebido`, `triagem`, `entrevista`, `avaliacao`, `aprovado`, `reprovado`)
- `nota`: decimal (opcional)
- `comentarios`: text (opcional)
- `data_movimentacao`: datetime (Ãºltima movimentaÃ§Ã£o)
- `data_inscricao`: datetime (registro da inscriÃ§Ã£o)

---

### ğŸ” PERMISSÃ•ES

- `admin` e `recrutador`: podem movimentar candidatos
- `gestor`: pode apenas visualizar o pipeline e deixar comentÃ¡rios
- Todas as rotas protegidas por JWT e checagem de perfil e empresa

---

### ğŸ”Œ ENDPOINTS A IMPLEMENTAR

- `GET /vagas/{vaga_id}/pipeline`  
  â†’ Retorna candidatos agrupados por etapa, ordenados por data de movimentaÃ§Ã£o

- `PATCH /vagas/{vaga_id}/candidatos/{candidato_id}/mover`  
  â†’ Move candidato de etapa no pipeline (exige motivo opcional e data automÃ¡tica)

- `POST /vagas/{vaga_id}/candidatos`  
  â†’ Inscreve candidato na vaga (com etapa inicial `recebido`)

- `GET /candidatos/{id}/historico`  
  â†’ Retorna todas as participaÃ§Ãµes do candidato em vagas e etapas anteriores

---

### ğŸ’» FRONTEND â€“ REACT + TAILWIND

#### Tela: Pipeline Visual (Kanban por Vaga)

- Colunas fixas com etapas:
  - Recebidos
  - Em Triagem
  - Entrevista
  - AvaliaÃ§Ã£o
  - Aprovado
  - Reprovado

- Cada coluna:
  - Lista de cards com nome do candidato, nota e aÃ§Ãµes rÃ¡pidas
  - Suporte a **drag & drop**
  - Modal ao soltar para confirmar movimentaÃ§Ã£o e adicionar comentÃ¡rio

#### Tela: HistÃ³rico do Candidato
- Tabela com: Vaga, etapa, data da movimentaÃ§Ã£o, nota, comentÃ¡rio, recrutador

---

### ğŸ“š FUNCIONALIDADES EXTRAS

- Toda movimentaÃ§Ã£o deve ser registrada com data, nova etapa e usuÃ¡rio responsÃ¡vel
- Campo de observaÃ§Ã£o opcional na movimentaÃ§Ã£o
- Campo `nota` para avaliaÃ§Ã£o interna
- Um candidato nÃ£o pode estar em mais de uma etapa da mesma vaga
- Um candidato pode estar em vÃ¡rias vagas simultaneamente

---

### âš™ï¸ CONSIDERAÃ‡Ã•ES TÃ‰CNICAS

- Utilizar UUID como chave primÃ¡ria
- Criar relacionamento Many-to-Many com atributos
- Todas as rotas protegidas por `Depends(get_current_user)`
- ValidaÃ§Ã£o para impedir duplicidade de inscriÃ§Ãµes na mesma vaga
- Preparar estrutura para integraÃ§Ã£o futura com mensagens automÃ¡ticas

---

### âœ… RESULTADO ESPERADO

- Candidatos organizados por etapa dentro das vagas
- MovimentaÃ§Ã£o visual com histÃ³rico registrado
- IntegraÃ§Ã£o perfeita entre mÃ³dulos de vaga e candidato
- Visual moderno e intuitivo no frontend (estilo Gupy ou Trello)
- Estrutura pronta para automaÃ§Ãµes e relatÃ³rios

