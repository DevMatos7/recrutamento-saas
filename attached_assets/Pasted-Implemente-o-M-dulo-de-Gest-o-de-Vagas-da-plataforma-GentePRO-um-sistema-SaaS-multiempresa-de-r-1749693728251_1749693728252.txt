Implemente o **MÃ³dulo de GestÃ£o de Vagas** da plataforma GentePRO, um sistema SaaS multiempresa de recrutamento e seleÃ§Ã£o. O sistema utiliza backend em FastAPI, banco de dados PostgreSQL, autenticaÃ§Ã£o JWT e perfil de acesso (admin, recrutador, gestor). Este mÃ³dulo deve permitir criar, editar, listar, visualizar e encerrar vagas de emprego, alÃ©m de integrÃ¡-las ao pipeline de seleÃ§Ã£o e aos candidatos.

---

### ğŸ¯ OBJETIVO

Gerenciar o ciclo completo de uma vaga de emprego, desde a sua criaÃ§Ã£o atÃ© o encerramento. Cada vaga pertence a uma empresa e pode ser associada a um departamento e a um gestor responsÃ¡vel.

---

### ğŸ§± ESTRUTURA DO BANCO â€“ Modelo `vaga`

Crie o modelo `Vaga` com os seguintes campos:

- `id`: UUID (PK)
- `titulo`: string
- `descricao`: text
- `requisitos`: text (opcional)
- `local`: string
- `salario`: decimal (opcional)
- `beneficios`: text (opcional)
- `tipo_contratacao`: enum (`CLT`, `PJ`, `EstÃ¡gio`, `TemporÃ¡rio`, `Freelancer`)
- `status`: enum (`aberta`, `em_triagem`, `entrevistas`, `encerrada`, `cancelada`)
- `data_abertura`: datetime
- `data_fechamento`: datetime (opcional)
- `empresa_id`: UUID (FK)
- `departamento_id`: UUID (FK)
- `gestor_id`: UUID (FK)
- `data_criacao`: datetime
- `data_atualizacao`: datetime

---

### ğŸ” PERMISSÃ•ES

- `admin`: acesso total ao mÃ³dulo
- `recrutador`: CRUD de vagas da prÃ³pria empresa
- `gestor`: visualizaÃ§Ã£o de vagas do seu departamento
- Todas as rotas devem ser protegidas com autenticaÃ§Ã£o JWT
- As aÃ§Ãµes devem respeitar o vÃ­nculo da vaga com a empresa do usuÃ¡rio logado

---

### ğŸ”Œ ENDPOINTS A IMPLEMENTAR

- `POST /vagas` â†’ criar nova vaga
- `GET /vagas` â†’ listar vagas com filtros (status, local, departamento)
- `GET /vagas/{id}` â†’ visualizar detalhes da vaga
- `PUT /vagas/{id}` â†’ editar vaga
- `PATCH /vagas/{id}/encerrar` â†’ encerrar vaga
- `DELETE /vagas/{id}` â†’ excluir vaga (opcional)
- `GET /vagas/{id}/pipeline` â†’ listar candidatos por etapa (para futura integraÃ§Ã£o)

---

### ğŸ“š FUNCIONALIDADES COMPLEMENTARES

- Filtro avanÃ§ado por status, departamento, perÃ­odo e tipo de contrataÃ§Ã£o
- Campos obrigatÃ³rios validados no backend e frontend
- Data de criaÃ§Ã£o e Ãºltima atualizaÃ§Ã£o geradas automaticamente
- Campos auditÃ¡veis: quem criou, quem alterou (futuro)
- IntegraÃ§Ã£o futura com publicaÃ§Ã£o externa e envio por WhatsApp/E-mail

---

### ğŸ’» FRONTEND â€“ SUGESTÃ•ES DE TELAS

#### Tela: Lista de Vagas
- Colunas: tÃ­tulo, status, local, data de abertura, responsÃ¡vel
- Filtros laterais: status, tipo de contrataÃ§Ã£o, departamento
- BotÃµes: Nova Vaga, Editar, Encerrar, Ver Pipeline

#### Tela: Cadastro / EdiÃ§Ã£o
- SeÃ§Ãµes:
  - InformaÃ§Ãµes Gerais
  - Requisitos e BenefÃ­cios
  - VÃ­nculos (empresa, departamento, gestor)
- BotÃµes: Salvar / Cancelar

#### Tela: Pipeline (Kanban por vaga)
- Colunas: Recebidos, Triagem, Entrevista, AvaliaÃ§Ã£o, Aprovado, Reprovado
- Drag & drop dos candidatos entre etapas (futuro)

---

### âš™ï¸ EXTRAS TÃ‰CNICOS

- Usar UUID como chave primÃ¡ria
- Separar model, schema, router e service
- ValidaÃ§Ã£o de campos obrigatÃ³rios no schema Pydantic
- Filtros usando query params no `GET /vagas`
- Controle de acesso centralizado via `Depends(get_current_user)`

---

### ğŸ”„ RELACIONAMENTOS

- `empresa_id`: vincula a vaga a uma empresa
- `departamento_id`: define o setor da vaga
- `gestor_id`: usuÃ¡rio responsÃ¡vel pela vaga
- Futura tabela `vaga_candidato`: ligaÃ§Ã£o com candidatos por etapa

---

### ğŸ§ª VALIDAÃ‡Ã•ES

- NÃ£o permitir criar vaga sem tÃ­tulo e descriÃ§Ã£o
- Ao editar, validar que a vaga ainda nÃ£o esteja encerrada
- SÃ³ permitir encerrar vagas no status "aberta" ou "em_triagem"
- Exibir erro amigÃ¡vel caso falte vÃ­nculo com empresa

